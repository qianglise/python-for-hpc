<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex/"><link rel="search" title="Search" href="../search/"><link rel="next" title="Benchmark" href="../benchmark/"><link rel="prev" title="Introduction to MPI with Python (mpi4py)" href="../mpi4py/">
        <link rel="prefetch" href="../_static/ENCCS_logo_light.png" as="image">
        <link rel="prefetch" href="../_static/ENCCS_logo_dark.png" as="image">

    <link rel="shortcut icon" href="../_static/favicon.ico"><!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Profiler - Your lesson name</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_lesson.css?v=0c089442" />
    <link rel="stylesheet" type="text/css" href="../_static/term_role_formatting.css?v=4194e21c" />
    <link rel="stylesheet" type="text/css" href="../_static/furo_ext_lesson.css?v=685c8e98" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/overrides.css?v=1c72d2de" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../"><div class="brand">Your lesson name</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/ENCCS_logo_light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/ENCCS_logo_dark.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Your lesson name</span>
  
</a><form class="sidebar-search-container" method="get" action="../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">The lesson</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../accel-cython/">Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cupy/">CuPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intohpc/">Introduction to HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mpi4py/">Introduction to MPI with Python (mpi4py)</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/">Benchmark</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/">Instructor‚Äôs guide</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/ENCCS/python-for-hpc/blob/main//content/profile.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/ENCCS/python-for-hpc/edit/main//content/profile.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="profiler">
<h1>Profiler<a class="headerlink" href="#profiler" title="Link to this heading">¬∂</a></h1>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn how to profile Python code using <code class="docutils literal notranslate"><span class="pre">cProfile</span></code></p></li>
<li><p>Learn how to visualise cProfile results using <code class="docutils literal notranslate"><span class="pre">SnakeViz</span></code></p></li>
<li><p>Examine the most most expensive function call via <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code></p></li>
</ul>
</div>
<section id="deterministic-profilers-vs-sampling-profilers">
<h2>Deterministic profilers vs. sampling profilers<a class="headerlink" href="#deterministic-profilers-vs-sampling-profilers" title="Link to this heading">¬∂</a></h2>
<p>While <code class="docutils literal notranslate"><span class="pre">%timeit</span></code> can provide good benchmarking information on single lines or single functions,
larger codebases have more complex function hierarchies which require more sofisticated tools to
traverse properly.</p>
<p><strong>Deterministic profilers</strong> record every function call and event in the program,
logging the exact sequence and duration of events.</p>
<p>üëç <strong>Pros:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  - Provides detailed information on the program&#39;s execution.
  
  - Deterministic: Captures exact call sequences and timings.
</pre></div>
</div>
<p>üëé <strong>Cons:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  - Higher overhead, slowing down the program.
  
  - Can generate larger amount of data.
</pre></div>
</div>
<p><strong>Sampling profilers</strong> periodically samples the program‚Äôs state (where it is
and how much memory is used), providing a statistical view of where time is
spent.</p>
<p>üëç <strong>Pros:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  - Lower overhead, as it doesn&#39;t track every event.
  
  - Scales better with larger programs.
</pre></div>
</div>
<p>üëé <strong>Cons:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  - Less precise, potentially missing infrequent or short calls.
  
  - Provides an approximation rather than exact timing.
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Deterministic profilers</em> are also called <em>tracing profilers</em>.</p>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p><em>Analogy</em>: Imagine we want to optimize the Stockholm L√§nstrafik (SL) metro system.
We wish to detect bottlenecks in the system to improve the service and for this we have
asked few passengers to help us by tracking their journey.</p>
<ul class="simple">
<li><p><strong>Deterministic</strong>:
We follow every train and passenger, recording every stop
and delay. When passengers enter and exit the train, we record the exact time
and location.</p></li>
<li><p><strong>Sampling</strong>:
Every 5 minutes the phone notifies the passenger to note
down their current location. We then use this information to estimate
the most crowded stations and trains.</p></li>
</ul>
</div>
</section>
<section id="using-cprofile-to-investigate-performance">
<h2>Using <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> to investigate performance<a class="headerlink" href="#using-cprofile-to-investigate-performance" title="Link to this heading">¬∂</a></h2>
<p>Python comes with two <a class="reference external" href="https://docs.python.org/3/library/profile.html">built-in tools</a>
to profile code, which implement the same interface: <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> and <code class="docutils literal notranslate"><span class="pre">profile</span></code>.
These tools can help to identify performance bottlenecks in the code.</p>
<p>In this lesson, we will use <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> due to its smaller overhead (<code class="docutils literal notranslate"><span class="pre">profile</span></code>, on the other hand,
is more extensible). The standard syntax to call it is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span><span class="o">[</span>-o<span class="w"> </span>&lt;outputFile&gt;<span class="o">]</span><span class="w"> </span>&lt;python_module&gt;
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> writes the results to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, but the optional <code class="docutils literal notranslate"><span class="pre">-o</span></code> flag redirects
the output to file instead. A report can be generated using the <code class="docutils literal notranslate"><span class="pre">pstats</span></code> command.</p>
<div class="admonition-type-along type-along important admonition" id="type-along-0">
<p class="admonition-title">Type-Along</p>
<p>Let‚Äôs profile the <code class="docutils literal notranslate"><span class="pre">wordcount</span></code> script and write the results to a file.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Use the shell variant. The profiling output from Jupyter, although it seems to work, is hard to decipher.</p>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-SVB5dGhvbiAvIEp1cHl0ZXI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tab" tabindex="0">IPython / Jupyter</button><button aria-controls="panel-0-VW5peCBTaGVsbA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tab" tabindex="-1">Unix Shell</button></div><div aria-labelledby="tab-0-SVB5dGhvbiAvIEp1cHl0ZXI=" class="sphinx-tabs-panel group-tab" id="panel-0-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tabpanel" tabindex="0"><p>The <code class="docutils literal notranslate"><span class="pre">%run</span></code> magic supports profiling out-of-the-box using the <code class="docutils literal notranslate"><span class="pre">-p</span></code> flag. The script can be run as:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">%</span><span class="k">run</span> -p -D wordcount.prof source/wordcount.py data/concat.txt processed_data/concat.dat
 
<span class="o">***</span> <span class="n">Profile</span> <span class="n">stats</span> <span class="n">marshalled</span> <span class="n">to</span> <span class="n">file</span> <span class="s1">&#39;wordcount.prof&#39;</span><span class="o">.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-VW5peCBTaGVsbA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tabpanel" tabindex="0"><p>We can call <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span>-o<span class="w"> </span>wordcount.prof<span class="w"> </span>source/wordcount.py<span class="w"> </span>data/concat.txt<span class="w"> </span>processed_data/concat.dat
</pre></div>
</div>
<p>We can then generate a report using the <code class="docutils literal notranslate"><span class="pre">pstats</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pstats<span class="w"> </span>wordcount.prof
<span class="c1"># Welcome to the profile statistics browser.</span>
<span class="c1"># wordcount.prof% sort tottime</span>
<span class="c1"># wordcount.prof% stats</span>
<span class="c1"># Wed Sep 25 11:52:27 2024    wordcount.prof</span>

<span class="c1">#          53473208 function calls in 8.410 seconds</span>

<span class="c1">#    Ordered by: internal time</span>

<span class="c1">#    ncalls  tottime  percall  cumtime  percall filename:lineno(function)</span>
<span class="c1">#   1233410    4.151    0.000    7.204    0.000 source/wordcount.py:41(update_word_counts)</span>
<span class="c1">#  32068660    1.799    0.000    1.799    0.000 {method &#39;replace&#39; of &#39;str&#39; objects}</span>
<span class="c1">#   7747363    0.570    0.000    0.570    0.000 {method &#39;lower&#39; of &#39;str&#39; objects}</span>
<span class="c1">#   7747363    0.428    0.000    0.428    0.000 {method &#39;strip&#39; of &#39;str&#39; objects}</span>
<span class="c1">#   1530212    0.271    0.000    0.271    0.000 source/wordcount.py:23(&lt;genexpr&gt;)</span>
<span class="c1">#   1233411    0.256    0.000    0.256    0.000 {method &#39;split&#39; of &#39;str&#39; objects}</span>
<span class="c1">#         1    0.184    0.184    7.388    7.388 source/wordcount.py:59(calculate_word_counts)</span>
<span class="c1">#    382553    0.133    0.000    0.404    0.000 {method &#39;join&#39; of &#39;str&#39; objects}</span>
<span class="c1">#         1    0.126    0.126    0.580    0.580 source/wordcount.py:16(save_word_counts)</span>
<span class="c1"># ...</span>
</pre></div>
</div>
</div></div>
</div>
<div class="admonition-type-along type-along important admonition" id="type-along-1">
<p class="admonition-title">Type-Along</p>
<p>Let us consider the following code which simulates a random walk in one dimension.
Save it as <code class="docutils literal notranslate"><span class="pre">walk.py</span></code> or download it from <code class="docutils literal notranslate"><span class="pre">FIXME:</span> <span class="pre">here</span> <span class="pre">&lt;example/walk.py&gt;</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;A 1-D random walk.</span>

<span class="sd">See also:</span>
<span class="sd">- https://lectures.scientific-python.org/intro/numpy/auto_examples/plot_randomwalk.html</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>


<span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">():</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
    <span class="k">return</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="o">-</span><span class="mf">1.0</span>


<span class="k">def</span><span class="w"> </span><span class="nf">walk</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The for-loop version.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n: int</span>
<span class="sd">        Number of time steps</span>

<span class="sd">    dx: float</span>
<span class="sd">        Step size. Default step size is unity.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">x_new</span> <span class="o">=</span> <span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">step</span><span class="p">()</span>
        <span class="n">xs</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_new</span>

    <span class="k">return</span> <span class="n">xs</span>


<span class="k">def</span><span class="w"> </span><span class="nf">walk_vec</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The vectorized version of :func:`walk` using numpy functions.&quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">k</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">counts</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span> <span class="o">*</span> <span class="n">n</span><span class="p">,</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">n</span><span class="p">]))</span>

    <span class="c1"># steps = np.random.choice([1, -1], size=n)</span>

    <span class="n">dx_steps</span> <span class="o">=</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">steps</span>

    <span class="c1"># set initial condition to zero</span>
    <span class="n">dx_steps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># use cumulative sum to replicate time evolution of position x</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">dx_steps</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">xs</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">1_000_000</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">walk</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">walk_vec</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

</pre></div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-SVB5dGhvbiAvIEp1cHl0ZXI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tab" tabindex="0">IPython / Jupyter</button><button aria-controls="panel-1-VW5peCBTaGVsbA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tab" tabindex="-1">Unix Shell</button></div><div aria-labelledby="tab-1-SVB5dGhvbiAvIEp1cHl0ZXI=" class="sphinx-tabs-panel group-tab" id="panel-1-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tabpanel" tabindex="0"><p>The <code class="docutils literal notranslate"><span class="pre">%run</span></code> magic supports profiling out-of-the-box using the <code class="docutils literal notranslate"><span class="pre">-p</span></code> flag. The script can be run as:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">%</span><span class="k">run</span> -p -D walk.prof walk.py
 
<span class="o">***</span> <span class="n">Profile</span> <span class="n">stats</span> <span class="n">marshalled</span> <span class="n">to</span> <span class="n">file</span> <span class="s1">&#39;walk.prof&#39;</span><span class="o">.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-VW5peCBTaGVsbA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tabpanel" tabindex="0"><p>We can call <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span>-o<span class="w"> </span>walk.prof<span class="w"> </span>walk.py
</pre></div>
</div>
<p>We can then generate a report using the <a class="reference external" href="https://docs.python.org/3/library/profile.html#module-pstats">profile pstats module</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pstats<span class="w"> </span>walk.prof
<span class="c1"># Welcome to the profile statistics browser.</span>
<span class="c1"># walk.prof% sort tottime</span>
<span class="c1"># walk.prof% stats</span>
<span class="c1"># Wed Sep 25 11:52:27 2024    walk.prof</span>
</pre></div>
</div>
</div></div>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<p>Profiling introduces a non-negligible overhead on the code being executed. Thus, the absolute values
for time being spent in each function should be taken with a grain of salt. The real objective lies in understanding
the <em>relative</em> amount of time spent in each function call.</p>
</div>
</section>
<section id="using-snakeviz-to-visualise-performance-reports">
<h2>Using SnakeViz to visualise performance reports<a class="headerlink" href="#using-snakeviz-to-visualise-performance-reports" title="Link to this heading">¬∂</a></h2>
<p><a class="reference external" href="https://jiffyclub.github.io/snakeviz/">SnakeViz</a> is a browser-based visualiser of
performance reports generated by <code class="docutils literal notranslate"><span class="pre">cProfile</span></code>. It is already included among the
dependecies installed in this virtual/Conda environment.</p>
<div class="admonition-type-along type-along important admonition" id="type-along-2">
<p class="admonition-title">Type-Along</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-SVB5dGhvbiAvIEp1cHl0ZXI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tab" tabindex="0">IPython / Jupyter</button><button aria-controls="panel-2-VW5peCBTaGVsbA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tab" tabindex="-1">Unix Shell</button></div><div aria-labelledby="tab-2-SVB5dGhvbiAvIEp1cHl0ZXI=" class="sphinx-tabs-panel group-tab" id="panel-2-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tabpanel" tabindex="0"><p>SnakeViz has a IPython magic to profile and open a browser directly. To use it, we just
need to load the relevant extension and run it:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="o">%</span><span class="k">load_ext</span> snakeviz
<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="o">%</span><span class="k">snakeviz</span> wordcount.word_count(&quot;data/concat.txt&quot;, &quot;processed_data/concat.dat&quot;, 1)
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will run only if the source IPython instance has access to a local web browser.
This also means that, e.g., if you are on Windows and following the tutorial in WSL,
this will <code class="docutils literal notranslate"><span class="pre">not</span></code> work.</p>
</div>
</div><div aria-labelledby="tab-2-VW5peCBTaGVsbA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tabpanel" tabindex="0"><p>We can run SnakeViz as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>snakeviz<span class="w"> </span>wordcount.prof<span class="w"> </span>--server
</pre></div>
</div>
</div></div>
</div>
<p>The output will contain a clickable link containing the visualisation.</p>
<p><img alt="SnakeViz output" src="../_images/snakeviz.png" /></p>
<p>Based on the output, we can clearly see that the <code class="docutils literal notranslate"><span class="pre">update_word_counts()</span></code> function
is where most of the runtime of the script is spent.</p>
</section>
<section id="using-line-profiler-to-inspect-the-expensive-function">
<h2>Using <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> to inspect the expensive function<a class="headerlink" href="#using-line-profiler-to-inspect-the-expensive-function" title="Link to this heading">¬∂</a></h2>
<p>Once the main performance-intensive function is identified, we can further examine it
to find bottlenecks. This can be done using the <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> tool, which returns a line-by-line
breakdown of where time is spent.</p>
<div class="admonition-type-along type-along important admonition" id="type-along-3">
<p class="admonition-title">Type-Along</p>
<p>Let‚Äôs profile the <code class="docutils literal notranslate"><span class="pre">wordcount</span></code> script and write the results to a file.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-SVB5dGhvbiAvIEp1cHl0ZXI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tab" tabindex="0">IPython / Jupyter</button><button aria-controls="panel-3-VW5peCBTaGVsbA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tab" tabindex="-1">Unix Shell</button></div><div aria-labelledby="tab-3-SVB5dGhvbiAvIEp1cHl0ZXI=" class="sphinx-tabs-panel group-tab" id="panel-3-SVB5dGhvbiAvIEp1cHl0ZXI=" name="SVB5dGhvbiAvIEp1cHl0ZXI=" role="tabpanel" tabindex="0"><p>The <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> package provides a magic to be used in IPython. First, the
magic needs to be loaded:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">%</span><span class="k">load_ext</span> line_profiler
</pre></div>
</div>
<p>The script can be run with the <code class="docutils literal notranslate"><span class="pre">%lprun</span></code> magic, whose syntax is very close to the <code class="docutils literal notranslate"><span class="pre">%run</span></code>
introduced above. Notice that we have to explicitly mention which functions we want to step through
line by line:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="o">%</span><span class="k">lprun</span> -f wordcount.update_word_counts wordcount.word_count(&quot;data/concat.txt&quot;, &quot;processed_data/concat.dat&quot;, 1)
</pre></div>
</div>
</div><div aria-labelledby="tab-3-VW5peCBTaGVsbA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VW5peCBTaGVsbA==" name="VW5peCBTaGVsbA==" role="tabpanel" tabindex="0"><p>To use <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> from the command line, the functions to be profiled need to be explicitly marked.
For this reason, we need to import the relevant decorator at the beginning of the <code class="docutils literal notranslate"><span class="pre">wordcount.py</span></code> script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">line_profiler</span><span class="w"> </span><span class="kn">import</span> <span class="n">profile</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The tool will also work without the import</p>
</div>
<p>We can now mark the <code class="docutils literal notranslate"><span class="pre">update_word_counts</span></code> function with the <code class="docutils literal notranslate"><span class="pre">&#64;profile</span></code> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@profile</span>
<span class="k">def</span><span class="w"> </span><span class="nf">update_word_counts</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">counts</span><span class="p">):</span>
</pre></div>
</div>
<p>Profiling is performed with a script called <code class="docutils literal notranslate"><span class="pre">kernprof</span></code>. Its usage is the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">kernprof -lvr source/wordcount.py data/concat.txt processed_data/concat.dat</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-l</span></code> flag ensures that the function is profiled step-by-step, the <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag
shows the result on stdout and the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag is used to have rich format on output.</p>
</div></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Wrote profile results to wordcount.py.lprof</span>
<span class="go">Timer unit: 1e-06 s</span>

<span class="go">Total time: 12.2802 s</span>
<span class="go">File: source/wordcount.py</span>
<span class="go">Function: update_word_counts at line 40</span>

<span class="go">Line #      Hits         Time  Per Hit   % Time  Line Contents</span>
<span class="go">==============================================================</span>
<span class="go">    40                                           @profile</span>
<span class="go">    41                                           def update_word_counts(line, counts):</span>
<span class="go">    42                                               &quot;&quot;&quot;</span>
<span class="go">    43                                               Given a string, parse the string and update a dictionary of word</span>
<span class="go">    44                                               counts (mapping words to counts of their frequencies). DELIMITERS are</span>
<span class="go">    45                                               removed before the string is parsed. The function is case-insensitive</span>
<span class="go">    46                                               and words in the dictionary are in lower-case.</span>
<span class="go">    47                                               &quot;&quot;&quot;</span>
<span class="go">    48  33302070    2574252.9      0.1     21.0      for purge in DELIMITERS:</span>
<span class="go">    49  32068660    4405499.9      0.1     35.9          line = line.replace(purge, &quot; &quot;)</span>
<span class="go">    50   1233410     392268.8      0.3      3.2      words = line.split()</span>
<span class="go">    51   8980773     819407.4      0.1      6.7      for word in words:</span>
<span class="go">    52   7747363    1457841.0      0.2     11.9          word = word.lower().strip()</span>
<span class="go">    53   7747363    1355462.5      0.2     11.0          if word in counts:</span>
<span class="go">    54   7364810    1211000.7      0.2      9.9              counts[word] += 1</span>
<span class="go">    55                                                   else:</span>
<span class="go">    56    382553      64505.7      0.2      0.5              counts[word] = 1</span>
</pre></div>
</div>
<p>Based on the output, we can conclude that most of the time is spent replacing delimiters.</p>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> module can provide information on how costly each function call is.</p></li>
<li><p>Profile reports can be inspected using the <code class="docutils literal notranslate"><span class="pre">pstats</span></code> tool in tabular form or with SnakeViz
for a graphical visualisation</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> tool can be used to inspect line-by-line performance overhead.</p></li>
</ul>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../benchmark/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Benchmark</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../mpi4py/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Introduction to MPI with Python (mpi4py)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, ENCCS, The contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/ENCCS/python-for-hpc" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Profiler</a><ul>
<li><a class="reference internal" href="#deterministic-profilers-vs-sampling-profilers">Deterministic profilers vs. sampling profilers</a></li>
<li><a class="reference internal" href="#using-cprofile-to-investigate-performance">Using <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> to investigate performance</a></li>
<li><a class="reference internal" href="#using-snakeviz-to-visualise-performance-reports">Using SnakeViz to visualise performance reports</a></li>
<li><a class="reference internal" href="#using-line-profiler-to-inspect-the-expensive-function">Using <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> to inspect the expensive function</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=187304be"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=35a8b989"></script>
    <script src="../_static/minipres.js?v=a0d29692"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    </body>
</html>